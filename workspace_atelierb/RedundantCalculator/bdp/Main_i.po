THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(7) & Operation_run.4,(_f(8) & _f(9) & _f(10) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(4) => _f(18));
_f(1) & _f(2) & _f(3) & _f(7) & Operation_run.3,(_f(8) & _f(9) & _f(10) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(4) => _f(17));
_f(1) & _f(2) & _f(3) & _f(7) & Operation_run.2,(_f(8) & _f(9) & _f(16) => _f(10));
_f(1) & _f(2) & _f(3) & _f(7) & Operation_run.1,(_f(16) => _f(8));
_f(1) & _f(2) & _f(3) & Initialisation.2,(_f(4) => _f(6));
_f(1) & _f(2) & _f(3) & Initialisation.1,(_f(4) => _f(5))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..3)*{RUNNING_STATE}): FIN(NATURAL*{RUNNING_STATE})& not(((1..3)*{RUNNING_STATE}) = {}) & ((1..4)*{MAIN_STATE}): FIN(NATURAL*{MAIN_STATE})& not(((1..4)*{MAIN_STATE}) = {}) & ((1..3)*{ON_STATE}): FIN(NATURAL*{ON_STATE})& not(((1..3)*{ON_STATE}) = {}) & ((NEXT_RUNNING_STATE) : (((((1..3)*{RUNNING_STATE})) <-> (((1..3)*{RUNNING_STATE}))))) & ((NEXT_MAIN_STATE) : (((((1..4)*{MAIN_STATE})) <-> (((1..4)*{MAIN_STATE}))))) & ((NEXT_ON_STATE) : (((((1..3)*{ON_STATE})) <-> (((1..3)*{ON_STATE}))))) & ((NEXT_MAIN_STATE) = (({(((3|->MAIN_STATE)) |-> ((4|->MAIN_STATE)))}\/{(((2|->MAIN_STATE)) |-> ((4|->MAIN_STATE)))}\/{(((4|->MAIN_STATE)) |-> ((2|->MAIN_STATE)))}\/{(((1|->MAIN_STATE)) |-> ((2|->MAIN_STATE)))}\/{(((4|->MAIN_STATE)) |-> ((1|->MAIN_STATE)))}\/{(((3|->MAIN_STATE)) |-> ((3|->MAIN_STATE)))}\/{(((4|->MAIN_STATE)) |-> ((4|->MAIN_STATE)))}\/{(((1|->MAIN_STATE)) |-> ((1|->MAIN_STATE)))}\/{(((2|->MAIN_STATE)) |-> ((2|->MAIN_STATE)))}))) & ((NEXT_ON_STATE) = (({(((2|->ON_STATE)) |-> ((3|->ON_STATE)))}\/{(((1|->ON_STATE)) |-> ((2|->ON_STATE)))}\/{(((2|->ON_STATE)) |-> ((2|->ON_STATE)))}\/{(((1|->ON_STATE)) |-> ((1|->ON_STATE)))}\/{(((3|->ON_STATE)) |-> ((3|->ON_STATE)))}))) & ((NEXT_RUNNING_STATE) = (({(((1|->RUNNING_STATE)) |-> ((3|->RUNNING_STATE)))}\/{(((1|->RUNNING_STATE)) |-> ((2|->RUNNING_STATE)))}\/{(((2|->RUNNING_STATE)) |-> ((3|->RUNNING_STATE)))}\/{(((1|->RUNNING_STATE)) |-> ((1|->RUNNING_STATE)))}\/{(((3|->RUNNING_STATE)) |-> ((3|->RUNNING_STATE)))}\/{(((2|->RUNNING_STATE)) |-> ((2|->RUNNING_STATE)))}))) & ((U_MIN) : (NAT)) & ((U_UNDER) : (NAT)) & ((U_OVER) : (NAT)) & ((U_HIGH) : (NAT)) & ((U_LOW) : (NAT));
((UNIT1_RS) : (((1..3)*{RUNNING_STATE}))) & ((UNIT2_RS) : (((1..3)*{RUNNING_STATE}))) & ((UNIT1_MS) : (((1..4)*{MAIN_STATE}))) & ((UNIT2_MS) : (((1..4)*{MAIN_STATE}))) & ((UNIT1_OS) : (((1..3)*{ON_STATE}))) & ((UNIT2_OS) : (((1..3)*{ON_STATE})));
"Refinement is correct";
not((((1|->RUNNING_STATE)) = ((2|->RUNNING_STATE))) & (((1|->RUNNING_STATE)) = ((2|->RUNNING_STATE))));
not((((1|->RUNNING_STATE)) = ((3|->RUNNING_STATE))) & (((1|->RUNNING_STATE)) = ((3|->RUNNING_STATE))));
((m_cu1_current_main_state$1) : (((1..4)*{MAIN_STATE}))) & ((m_cu1_current_running_state$1) : (((1..3)*{RUNNING_STATE}))) & ((m_cu1_current_on_state$1) : (((1..3)*{ON_STATE}))) & ((m_cu1_new_main_state$1) : (((1..4)*{MAIN_STATE}))) & ((m_cu1_new_running_state$1) : (((1..3)*{RUNNING_STATE}))) & ((m_cu1_new_on_state$1) : (((1..3)*{ON_STATE}))) & ((m_cu2_current_main_state$1) : (((1..4)*{MAIN_STATE}))) & ((m_cu2_current_running_state$1) : (((1..3)*{RUNNING_STATE}))) & ((m_cu2_current_on_state$1) : (((1..3)*{ON_STATE}))) & ((m_cu2_new_main_state$1) : (((1..4)*{MAIN_STATE}))) & ((m_cu2_new_running_state$1) : (((1..3)*{RUNNING_STATE}))) & ((m_cu2_new_on_state$1) : (((1..3)*{ON_STATE}))) & not(((m_cu2_current_running_state$1) = ((2|->RUNNING_STATE))) & ((m_cu2_current_running_state$1) = ((2|->RUNNING_STATE)))) & not(((m_cu2_current_running_state$1) = ((3|->RUNNING_STATE))) & ((m_cu2_current_running_state$1) = ((3|->RUNNING_STATE))));
((1) : (NAT));
((resp_cu_running_state) : (((1..3)*{RUNNING_STATE})));
((2) : (NAT));
((resp_cu_running_state$1) : (((1..3)*{RUNNING_STATE})));
((resp_cu_main_state) : (((1..4)*{MAIN_STATE})));
((resp_cu_main_state$1) : (((1..4)*{MAIN_STATE})));
((resp_cu_on_state) : (((1..3)*{ON_STATE})));
((resp_cu_on_state$1) : (((1..3)*{ON_STATE})));
"Precondition predicate";
not(((resp_cu_running_state$1) = ((2|->RUNNING_STATE))) & ((resp_cu_running_state$1) = ((2|->RUNNING_STATE))));
not(((resp_cu_running_state$1) = ((3|->RUNNING_STATE))) & ((resp_cu_running_state$1) = ((3|->RUNNING_STATE))))
END
&
THEORY EnumerateX IS
MAIN_STATE == {ERROR,SHUTDOWN,OFF,ON};
ON_STATE == {ON_IDLE,INITIALIZING,RUNNING};
RUNNING_STATE == {UNKNOWN,SLAVE,MASTER}
END
